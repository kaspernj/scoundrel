rvm: true
before_install:
  - sudo apt-get update && sudo apt-get install -y composer php-cli python3-pip python3-venv
environment:
  RUBY_VERSION: 3.2.9
builds:
  build_1:
    name: Ruby
    script:
      - cd ruby && bundle && bundle exec rspec
  build_2:
    name: PHP
    script:
      - cd php && composer install
      - cd php && vendor/bin/phpunit
  build_3:
    name: JavaScript
    script:
      - cd javascript && npm install
      - cd javascript && npm test
      - cd javascript && npm run lint
      - cd javascript && npm run typecheck
  build_4:
    name: Python
    script:
      - sudo apt-get update && sudo apt-get install -y python3-venv
      - cd python && python3 -m venv .venv
      - cd python && . .venv/bin/activate && pip install -e ".[dev]"
      - cd python && . .venv/bin/activate && pytest
